.MdrImageGallery {
    width: 100%;

    &.Grid,
    &.Masonry {
        display: grid;
        gap: 16px;
    }

    &.List {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    &.None {
        gap: 0;
    }

    &.Small {
        gap: 8px;
    }

    &.Medium {
        gap: 16px;
    }

    &.Large {
        gap: 24px;
    }

    .MdrImageGallery-item {
        position: relative;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.2s ease;
        background-color: var(--mdr-color-neutral-100);

        &:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        &.selected {
            box-shadow: 0 0 0 3px var(--mdr-color-primary-500);
        }

        &.Small {
            height: 64px;
        }

        &.Medium {
            height: 128px;
        }

        &.Large {
            height: 256px;
        }

        &.Square {
            border-radius: 0;
        }

        &.Rounded {
            border-radius: 8px;
        }

        &.Circle {
            border-radius: 50%;
            aspect-ratio: 1;
        }
    }

    .MdrImageGallery-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;

        &.Cover {
            object-fit: cover;
        }

        &.Contain {
            object-fit: contain;
        }

        &.Fill {
            object-fit: fill;
        }

        &.None {
            object-fit: none;
        }

        &.ScaleDown {
            object-fit: scale-down;
        }
    }

    .MdrImageGallery-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 8px 12px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
        color: white;
        font-size: 12px;
        line-height: 1.4;
        opacity: 0;
        transition: opacity 0.2s ease;
    }

    .MdrImageGallery-item:hover .MdrImageGallery-caption {
        opacity: 1;
    }

    .MdrImageGallery-check {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 24px;
        height: 24px;
        background-color: var(--mdr-color-primary-500);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }

    &.List .MdrImageGallery-item {
        display: flex;
        align-items: center;
        height: auto;

        .MdrImageGallery-image {
            width: 200px;
            height: 150px;
            flex-shrink: 0;
        }

        .MdrImageGallery-caption {
            position: static;
            padding: 12px 16px;
            background: transparent;
            color: var(--mdr-color-neutral-700);
            opacity: 1;
            flex: 1;
        }
    }
}

@media (prefers-color-scheme: dark) {
    .MdrImageGallery {
        .MdrImageGallery-item {
            background-color: var(--mdr-color-neutral-800);

            &:hover {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }
        }

        .MdrImageGallery-caption {
            color: var(--mdr-color-neutral-200);
        }

        &.List .MdrImageGallery-caption {
            color: var(--mdr-color-neutral-300);
        }
    }
}
